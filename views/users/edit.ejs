<% include ../partials/header %>

<div class="row">
    <h1 style="text-align: center">Edit My Profile</h1>
    <div style="width: 30%; margin: 25px auto;" class="form">
        <form action="/users/<%= user._id %>?_method=PUT" method="post">
            <div class="form-group">
                <label for="username">Username</label>
                <input class="form-control" type="text" id="username" name="user[username]" value="<%= user.username%>">
            </div>
            <div class="form-group">
                <label for="firstName">First Name</label>
                <input class="form-control" type="text" id="firstName" name="user[firstName]" value="<%= user.firstName%>">
            </div>
            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input class="form-control" type="text" id="lastName" name="user[lastName]" value="<%= user.lastName%>">
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input class="form-control" type="email" id="email" name="user[email]" value="<%= user.email%>">
            </div>
            <div class="form-group">
                <label for="avatar">Avatar</label>
                <input class="form-control" type="text" id="avatar" name="user[avatar]" value="<%= user.avatar%>">
            </div>
            <div class="form-group">
                <label for="adminCode"> Register As Admin: </label>
                <input class="form-comtrol" type="checkbox" id="isChecked" onclick="showHide()">
                <input class="form-control" id="adminCode" type="password" name="user[adminCode]" style="display:none" value="<%= user.adminCode%>">
            </div>
            <div class="form-group">
                <button class="btn btn-lg btn-primary btn-block">Save</button>
            </div>
        </form>
        <div class="text-center">
            <button type="button" class="btn" data-toggle="collapse" data-target="#hideDelete">Delete Account</button>
            <div id="hideDelete" class="collapse">
                <p><strong>Are you sure?</strong></p>
                <p>Clicking delete will delete you account. This cannot be undone</p>
                <form class="delete-form" action="/users/<%= user._id %>?_method=DELETE" method="POST">
                    <button class="btn btn-lg btn-block btn-danger">Delete</button>
                </form>
            </div>
        </div>
    </div>
</div>
<!--Checkbox: <input type="checkbox" id="myCheck" onclick="myFunction()">-->

<p id="text" style="display:none">Checkbox is CHECKED!</p>

<script>
    function showHide() {
      // Get the checkbox
      var checkBox = document.getElementById("isChecked");
      // Get the output text
      var text = document.getElementById("adminCode");
      // If the checkbox is checked, display the output text
      if (checkBox.checked == true){
        text.style.display = "block";
      } else {
        text.style.display = "none";
      }
    }
</script>

<% include ../partials/footer %>